<!DOCTYPE html>
<html lang="en">

<head> 
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4LK1VRCD7T"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4LK1VRCD7T');
</script>
<script>
  var script = document.createElement('script');
  script.defer = true;
  script.src = 'https://analytics.ahrefs.com/analytics.js';
  script.setAttribute('data-key', 'as5WsaDW5P7lDog1QItArg');
  document.getElementsByTagName('head')[0].appendChild(script);
</script>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Contact Details</title>
  <meta name="description" content="Browse contact details on page ${currentPage}." />
  <meta content="The Voice of Azamgarh is a platform that resonates with the vibrant spirit of Azamgarh, Uttar Pradesh" name="description">
  <meta content="The Voice of Azamgarh, Azamgarh, Social Media Campaigns, Geotargeted Campaigns, Video Advertising, Native Advertising, SMS Marketing Platforms, Contacts, Contact Details, Digital Messaging," name="keywords">
  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Krub:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link rel="canonical" href="https://thevoiceofazamgarh.com/contacts?page=${currentPage}" />

  <!-- Preview for photo and identity CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <style>
.container-card {
    display: flex;
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
}

.contact-card {
    border: 1px solid #ccc;
    padding: 20px;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}

.contact-card p {
    margin: 5px 0;
}
.contact-card p strong {
            color: #3e91f7;
}

.pagination {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    margin-top: 20px;
}

.pagination button,
.pagination span {
    padding: 10px 20px;
    margin: 5px;
    border: none;
    background-color: #f8f9fa;
    color: #007bff;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s, transform 0.2s;
}

.pagination button:hover {
    background-color: #e9ecef;
    transform: scale(1.05);
}

.pagination button.active {
    background-color: #007bff;
    color: white;
}

.pagination button:disabled {
    background-color: #ccc;
    cursor: not-allowed;
}

/* Styling for pagination links */
.pagination .page-link {
        padding: 8px 12px;
        margin: 3px;
        color: #007bff;
        text-decoration: none;
        border: 1px solid #ddd;
        border-radius: 4px;
      }
    
      .pagination .page-link.active {
        background-color: #007bff;
        color: #fff;
        border: 1px solid #007bff;
      }
    
      .pagination .page-link.disabled {
        color: #ccc;
        pointer-events: none;
        background-color: #f5f5f5;
        border: 1px solid #ddd;
      }

/* Medium devices (tablets, 600px and up) */
@media screen and (min-width: 600px) {
    .container-card {
        grid-template-columns: repeat(2, 1fr); /* 2 columns */
    }
    .pagination button {
        padding: 8px 16px;
        font-size: 0.9rem;
    }
}

/* Large devices (desktops, 992px and up) */
@media screen and (min-width: 992px) {
    .container-card {
        grid-template-columns: repeat(3, 1fr); /* 3 columns */
    }    
    .pagination button {
        padding: 8px 16px;
        font-size: 0.9rem;
    }
}

@media (max-width: 480px) {
    .contact-card {
        padding: 8px;
    }

    .pagination button {
        padding: 6px 12px;
        font-size: 0.8rem;
    }
}

</style>

</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center justify-content-between">

      <!-- <h1 class="logo"><a href="index.html">The Voice of Azamgarh</a></h1> -->
      <a href="index.html" class="logo"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto " href="https://thevoiceofazamgarh.com/">Home</a></li>
          <li><a class="nav-link scrollto" href="#contact">Contacts</a></li>
          <li><a class="getstarted scrollto" href="#search">Get Contacts</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    
    <section id="contact" class="contact section-bg">
      <div class="row">
        <div class="pt-5">
          <div class="section-title">
            <h2>Contact Details</h2>
          </div>
          <div class="container-card align-items-center" id="contactContainer">
            <!-- Contacts will be injected here -->
          </div>
          <div class="pagination" id="pagination">
            <!-- Pagination buttons will be injected here -->
          </div>
        </div>
      </div>
    </section>
    
    <script>
      let offset = 0;
const limit = 1;
let currentPage = 1;
let totalContacts = 0;
let dynamicSlug = 'page'; // Default slug if no data is fetched

document.addEventListener('DOMContentLoaded', () => {
  const urlParams = new URLSearchParams(window.location.search);
  const page = parseInt(urlParams.get('page')) || 1;

  if (page > 0) {
    currentPage = page;
    offset = (currentPage - 1) * limit;
  }

  // Load contacts and dynamically set the slug
  loadContacts(false);
});

function loadContacts(append = false) {
  fetch(`forms/fetch_details.php?offset=${offset}&limit=${limit}`)
    .then(response => response.json())
    .then(data => {
      totalContacts = data.total;

      // Update the dynamic slug based on the current page's first contact
      if (data.contacts.length > 0) {
        dynamicSlug = generateSlug(data.contacts[0].name || 'page');
      }

      if (append) {
        displayContacts(data.contacts, true); // Append contacts
      } else {
        displayContacts(data.contacts); // Replace contacts
      }

      if (!append) {
        updatePagination(data.contacts); // Pass contacts for URL generation
      }

      // Update the browser URL when navigating to a new page
      updateUrl();
    })
    .catch(error => console.error('Error fetching contacts:', error));
}

function displayContacts(contacts, append = false) {
  const container = document.getElementById('contactContainer');
  if (!append) container.innerHTML = ''; // Clear only if not appending

  contacts.forEach(contact => {
    const card = document.createElement('div');
    card.className = 'contact-card';
    card.innerHTML = `
      <p><strong>Name:</strong> ${contact.name}</p>
      <p><strong>Organization:</strong> ${contact.organization}</p>
      <p><strong>Location:</strong> ${contact.location}</p>
      <p><strong>Contact:</strong> ${contact.mobile}</p>
    `;
    container.appendChild(card);
  });

  const pagination = document.getElementById('pagination');
  pagination.innerHTML = ''; // Clear any existing buttons

  if (offset + limit < totalContacts) {
    showLoadMoreButton();
  }
}

function showLoadMoreButton() {
  const loadMoreButton = document.createElement('button');
  loadMoreButton.innerText = 'Load More';
  loadMoreButton.onclick = () => {
    offset += limit;
    loadContacts(true);
  };

  const pagination = document.getElementById('pagination');
  pagination.appendChild(loadMoreButton);
}

function updatePagination(contacts) {
  const pagination = document.getElementById('pagination');
  pagination.innerHTML = ''; // Clear pagination buttons
  const totalPages = Math.ceil(totalContacts / limit);
  const maxPagesToShow = 5; // Show only a limited number of page links

  const createPageLink = (page, text, isDisabled = false, isActive = false) => {
    const link = document.createElement('a');
    link.href = `/${dynamicSlug}?page=${page}`; // Use dynamic slug
    link.innerText = text;
    link.className = 'page-link';
    if (isDisabled) {
      link.classList.add('disabled');
      link.style.pointerEvents = 'none';
    }
    if (isActive) {
      link.classList.add('active');
    }
    link.onclick = (event) => {
      event.preventDefault();
      if (!isDisabled) goToPage(page);
    };
    return link;
  };

  // First and Previous buttons
  if (currentPage > 1) {
    pagination.appendChild(createPageLink(1, 'First'));
    pagination.appendChild(createPageLink(currentPage - 1, 'Previous'));
  }

  // Page buttons in the current range
  let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));
  let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);
  for (let i = startPage; i <= endPage; i++) {
    pagination.appendChild(createPageLink(i, i, false, i === currentPage));
  }

  // Next and Last buttons
  if (currentPage < totalPages) {
    pagination.appendChild(createPageLink(currentPage + 1, 'Next'));
    pagination.appendChild(createPageLink(totalPages, 'Last'));
  }
}

function generateSlug(name) {
  if (!name) return 'page';
  return name
    .toLowerCase()
    .replace(/[^a-z0-9]+/g, '-') // Replace non-alphanumeric with hyphen
    .replace(/^-+|-+$/g, ''); // Remove leading/trailing hyphens
}

function goToPage(page) {
  currentPage = page;
  offset = (page - 1) * limit;

  loadContacts();
}

function updateUrl() {
  // Update the browser URL with the current slug and page number
  const newUrl = `/${dynamicSlug}?page=${currentPage}`;
  history.pushState({ page: currentPage, slug: dynamicSlug }, `Page ${currentPage}`, newUrl);
}

// Handle browser back/forward buttons
window.onpopstate = (event) => {
  if (event.state) {
    currentPage = event.state.page || 1;
    offset = (currentPage - 1) * limit;
    loadContacts();
  }
};

    </script> 
    
      <div class="section-title">
        <h4>For advance contact details please vist here <a class="btn btn-primary" href="search.html" role="button">Search</a></h4>
      </div>

    <!-- End Breadcrumbs -->
  </main>
  <!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6 footer-contact">
            <h3>Address</h3>
            <p>
              6th Floor, Sagar Plaza<br>
              Distt. Centre, Laxmi Nagar<br>
              New Delhi-110092<br><br>
              <!-- <strong>Phone:</strong> +91 9451296833<br> -->
              <strong>Email:</strong> info@thevoiceofazamgarh.com<br>
            </p>
          </div>

          <div class="col-lg-2 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">About us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Services</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Terms of service</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Privacy policy</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Our Services</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Social Media Campaigns</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Geotargeted Campaigns</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Video Advertising</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Native Advertising</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">SMS Marketing Platforms</a></li>
            </ul>
          </div>

          <div class="col-lg-4 col-md-6 footer-newsletter">
            <h4>Join Our Newsletter</h4>
            <p>We will share our newsletter on monthly basis</p>
            <form action="" method="post">
              <input type="email" name="email"><input type="submit" value="Subscribe">
            </form>
          </div>

        </div>
      </div>
    </div>

    <div class="container d-md-flex py-4">

      <div class="me-md-auto text-center text-md-start">
        <div class="copyright">
          &copy; Copyright <strong><span>The Voice of Azamgarh</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
          Designed by <a href="https://thevoiceofazamgarh.com/" target="_blank"> In-House IT</a>
        </div>
      </div>
      <div class="social-links text-center text-md-right pt-3 pt-md-0">
        <a href="https://twitter.com/thevoiceofamh" class="twitter"><i class="bx bxl-twitter"></i></a>
        <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
        <a href="https://www.instagram.com/thevoiceofamh/" class="instagram"><i class="bx bxl-instagram"></i></a>
        <a href="#" class="google-plus"><i class="bx bxl-youtube"></i></a>
        <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</body>

</html>